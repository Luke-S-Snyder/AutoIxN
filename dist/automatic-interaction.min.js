!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).AutomaticInteraction={})}(this,(function(t){"use strict";const e="tick",n="ellipse",r="line",l="polygon",o="polyline",s="path",i="text";function a(t,e){let n={};for(let r=0;r<t.ticks.length;++r){let l=t.ticks[r].clientRect[e];t.ticks[r].setAttribute("class",("left"===e?"x-axis":"y-axis")+" tick"),l in n?n[l].ticks.push(t.ticks[r]):n[l]={label:null,ticks:[t.ticks[r]]}}t.ticks=[];for(const[e,r]of Object.entries(n))r.offset=+e,t.ticks.push(r);t.ticks.sort(((t,e)=>+t.offset<+e.offset?-1:+t.offset>+e.offset?1:0))}class c{constructor(...t){if(t[0]instanceof c){const[e]=t;this.translate=[...e.translate],this.scale=[...e.scale],this.rotate=e.rotate}else this.translate=[0,0],this.scale=[0,0],this.rotate=0}}class u{constructor(){this.hasDomain=!1,this.svg=null,this.svgMarks=[],this.textMarks=[],this.axisTextMarks=[],this.xAxis={domain:[null,null],ordinal:[],range:[null,null],globalRange:[null,null],ticks:[],scale:null,axis:null},this.yAxis={domain:[null,null],ordinal:[],range:[null,null],globalRange:[null,null],ticks:[],scale:null,axis:null},this.legend=[],this.titles={x:null,y:null},this.interactions={selection:{control:null,active:!1},zoom:{control:null,axisControl:null},pan:{control:null,axisControl:null,flag:!1},brush:{control:null,axisControl:null,flag:!0,active:!1,on_elem:!1},filter:{control:null,active:!1},sort:{control:null},annotate:{flag:!1},arrange:{flag:!1}}}}function f(t,e={translate:[0,0],scale:[0,0],rotate:0}){const n=t.transform.baseVal;for(let t=0;t<n.numberOfItems;++t){const r=n.getItem(t),l=r.matrix;switch(r.type){case 2:e.translate[0]+=l.e,e.translate[1]+=l.f;break;case 3:e.scale[0]+=l.a,e.scale[1]+=l.d;break;case 4:e.rotate+=r.angle}}return e}function h(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,h)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(h,Error),h.buildMessage=function(t,e){var n={literal:function(t){return'"'+l(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function l(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,l,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(l=t[e],n[l.type](l));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+l(t)+'"':"end of input"}(e)+" found."};var p=function(t,e){e=void 0!==e?e:{};var n,r={},l={svg_path:Y},o=Y,s=function(t,e){return function(t,e){if(!e)return[t];for(var n=[t],r=0,l=e.length;r<l;r++)n[r+1]=e[r][1];return n}(t,e)},i=/^[Mm]/,a=J(["M","m"],!1,!1),c=/^[Zz]/,u=J(["Z","z"],!1,!1),f=/^[Ll]/,p=J(["L","l"],!1,!1),x=function(t,e){return Mt(t,e)},g=/^[Hh]/,v=J(["H","h"],!1,!1),d=/^[Vv]/,y=J(["V","v"],!1,!1),A=/^[Cc]/,m=J(["C","c"],!1,!1),b=/^[Ss]/,k=J(["S","s"],!1,!1),M=/^[Qq]/,R=J(["Q","q"],!1,!1),_=/^[Tt]/,C=J(["T","t"],!1,!1),N=/^[Aa]/,w=J(["A","a"],!1,!1),T=/^[01]/,E=J(["0","1"],!1,!1),S=B(",",!1),V=function(t){return t.join("")},F=".",j=B(".",!1),q=/^[eE]/,z=J(["e","E"],!1,!1),L=/^[+\-]/,Z=J(["+","-"],!1,!1),I=/^[0-9]/,O=J([["0","9"]],!1,!1),P=/^[ \t\n\r]/,U=J([" ","\t","\n","\r"],!1,!1),D=0,G=[{line:1,column:1}],H=0,Q=[];if("startRule"in e){if(!(e.startRule in l))throw new Error("Can't start parsing from rule \""+e.startRule+'".');o=l[e.startRule]}function B(t,e){return{type:"literal",text:t,ignoreCase:e}}function J(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function K(e){var n,r=G[e];if(r)return r;for(n=e-1;!G[n];)n--;for(r={line:(r=G[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return G[e]=r,r}function W(t,e){var n=K(t),r=K(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function X(t){D<H||(D>H&&(H=D,Q=[]),Q.push(t))}function Y(){var t,e,n,l,o;for(t=D,e=[],n=dt();n!==r;)e.push(n),n=dt();if(e!==r)if(n=function(){var t,e,n,l,o,i;if(t=D,(e=$())!==r){for(n=[],l=D,o=[],i=dt();i!==r;)o.push(i),i=dt();for(o!==r&&(i=$())!==r?l=o=[o,i]:(D=l,l=r);l!==r;){for(n.push(l),l=D,o=[],i=dt();i!==r;)o.push(i),i=dt();o!==r&&(i=$())!==r?l=o=[o,i]:(D=l,l=r)}n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),n===r&&(n=null),n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(e=function(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e=e.concat.apply(e,t[n]);var r=e[0];return r&&"m"==r.code&&(delete r.relative,r.code="M"),e}(n),t=e):(D=t,t=r)}else D=t,t=r;else D=t,t=r;return t}function $(){var e,n,l,o,c,u;if(e=D,n=function(){var e,n,l,o,s,c,u;e=D,i.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(a));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r&&(o=it())!==r?(s=D,(c=ft())===r&&(c=null),c!==r&&(u=et())!==r?s=c=[c,u]:(D=s,s=r),s===r&&(s=null),s!==r?(h=s,p=Mt(f=n,[o]),h&&(p=p.concat(Mt("M"==f?"L":"l",h[1]))),e=n=p):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;var f,h,p;return e}(),n!==r){for(l=[],o=D,c=[],u=dt();u!==r;)c.push(u),u=dt();for(c!==r&&(u=tt())!==r?o=c=[c,u]:(D=o,o=r);o!==r;){for(l.push(o),o=D,c=[],u=dt();u!==r;)c.push(u),u=dt();c!==r&&(u=tt())!==r?o=c=[c,u]:(D=o,o=r)}l!==r?e=n=s(n,l):(D=e,e=r)}else D=e,e=r;return e}function tt(){var e;return(e=function(){var e;D,c.test(t.charAt(D))?(e=t.charAt(D),D++):(e=r,X(u));e!==r&&(e=Mt("Z"));return e}())===r&&(e=function(){var e,n,l,o;e=D,f.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(p));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r&&(o=et())!==r?e=n=x(n,o):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,g.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(v));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r&&(o=nt())!==r?e=n=Mt(n,o.map((function(t){return{x:t}}))):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,d.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(y));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r&&(o=nt())!==r?e=n=Mt(n,o.map((function(t){return{y:t}}))):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,A.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(m));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(o=function(){var t,e,n,l,o,i;if(t=D,(e=rt())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=rt())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=rt())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),o!==r?e=n=x(n,o):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,b.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(k));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(o=function(){var t,e,n,l,o,i;if(t=D,(e=lt())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=lt())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=lt())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),o!==r?e=n=x(n,o):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,M.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(R));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(o=function(){var t,e,n,l,o,i;if(t=D,(e=ot())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=ot())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=ot())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),o!==r?e=n=x(n,o):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,_.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(C));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(o=function(){var t,e,n,l,o,i;if(t=D,(e=it())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=it())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=it())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),o!==r?e=n=x(n,o):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;return e}())===r&&(e=function(){var e,n,l,o;e=D,N.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(w));if(n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?(o=function(){var t,e,n,l,o,i;if(t=D,(e=st())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=st())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=st())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}(),o!==r?e=n=x(n,o):(D=e,e=r)):(D=e,e=r)}else D=e,e=r;return e}()),e}function et(){var t,e,n,l,o,i;if(t=D,(e=it())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=it())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=it())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}function nt(){var t,e,n,l,o,i;if(t=D,(e=ct())!==r){for(n=[],l=D,(o=ft())===r&&(o=null),o!==r&&(i=ct())!==r?l=o=[o,i]:(D=l,l=r);l!==r;)n.push(l),l=D,(o=ft())===r&&(o=null),o!==r&&(i=ct())!==r?l=o=[o,i]:(D=l,l=r);n!==r?t=e=s(e,n):(D=t,t=r)}else D=t,t=r;return t}function rt(){var t,e,n,l,o,s,i,a,c;return t=D,(e=it())!==r?((n=ft())===r&&(n=null),n!==r&&(l=it())!==r?((o=ft())===r&&(o=null),o!==r&&(s=it())!==r?(a=l,c=s,t=e={x1:(i=e).x,y1:i.y,x2:a.x,y2:a.y,x:c.x,y:c.y}):(D=t,t=r)):(D=t,t=r)):(D=t,t=r),t}function lt(){var t,e,n,l,o,s;return t=D,(e=it())!==r?((n=ft())===r&&(n=null),n!==r&&(l=it())!==r?(s=l,t=e={x2:(o=e).x,y2:o.y,x:s.x,y:s.y}):(D=t,t=r)):(D=t,t=r),t}function ot(){var t,e,n,l,o,s;return t=D,(e=it())!==r?((n=ft())===r&&(n=null),n!==r&&(l=it())!==r?(s=l,t=e={x1:(o=e).x,y1:o.y,x:s.x,y:s.y}):(D=t,t=r)):(D=t,t=r),t}function st(){var t,e,n,l,o,s,i,a,c,u,f,h;return t=D,(e=at())!==r?((n=ft())===r&&(n=null),n!==r&&(l=at())!==r?((o=ft())===r&&(o=null),o!==r&&(s=ct())!==r&&ft()!==r&&(i=ut())!==r?((a=ft())===r&&(a=null),a!==r&&(c=ut())!==r?((u=ft())===r&&(u=null),u!==r&&(f=it())!==r?t=e={rx:e,ry:l,xAxisRotation:s,largeArc:i,sweep:c,x:(h=f).x,y:h.y}:(D=t,t=r)):(D=t,t=r)):(D=t,t=r)):(D=t,t=r)):(D=t,t=r),t}function it(){var t,e,n,l;return t=D,(e=ct())!==r?((n=ft())===r&&(n=null),n!==r&&(l=ct())!==r?t=e={x:e,y:l}:(D=t,t=r)):(D=t,t=r),t}function at(){var t;return D,(t=pt())===r&&(t=vt()),t!==r&&(t=1*t),t}function ct(){var t,e,n;return D,t=D,(e=gt())===r&&(e=null),e!==r&&(n=pt())!==r?t=e=[e,n]:(D=t,t=r),t===r&&(t=D,(e=gt())===r&&(e=null),e!==r&&(n=vt())!==r?t=e=[e,n]:(D=t,t=r)),t!==r&&(t=1*t.join("")),t}function ut(){var e;return D,T.test(t.charAt(D))?(e=t.charAt(D),D++):(e=r,X(E)),e!==r&&(e="1"==e),e}function ft(){var t,e,n,l,o;if(t=D,e=[],(n=dt())!==r)for(;n!==r;)e.push(n),n=dt();else e=r;if(e!==r)if((n=ht())===r&&(n=null),n!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?t=e=[e,n,l]:(D=t,t=r)}else D=t,t=r;else D=t,t=r;if(t===r){if(t=D,e=D,(n=ht())!==r){for(l=[],o=dt();o!==r;)l.push(o),o=dt();l!==r?e=n=[n,l]:(D=e,e=r)}else D=e,e=r;e!==r&&(e=""),t=e}return t}function ht(){var e;return 44===t.charCodeAt(D)?(e=",",D++):(e=r,X(S)),e}function pt(){var e,n,l;return D,e=D,n=function(){var e,n,l,o;D,e=D,(n=vt())===r&&(n=null);n!==r?(46===t.charCodeAt(D)?(l=F,D++):(l=r,X(j)),l!==r&&(o=vt())!==r?e=n=[n,l,o]:(D=e,e=r)):(D=e,e=r);e===r&&(e=D,(n=vt())!==r?(46===t.charCodeAt(D)?(l=F,D++):(l=r,X(j)),l!==r?e=n=[n,l]:(D=e,e=r)):(D=e,e=r));e!==r&&(e=V(e));return e}(),n!==r?((l=xt())===r&&(l=null),l!==r?e=n=[n,l]:(D=e,e=r)):(D=e,e=r),e===r&&(e=D,(n=vt())!==r&&(l=xt())!==r?e=n=[n,l]:(D=e,e=r)),e!==r&&(e=V(e)),e}function xt(){var e,n,l,o;return D,e=D,q.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(z)),n!==r?((l=gt())===r&&(l=null),l!==r&&(o=vt())!==r?e=n=[n,l,o]:(D=e,e=r)):(D=e,e=r),e!==r&&(e=V(e)),e}function gt(){var e;return L.test(t.charAt(D))?(e=t.charAt(D),D++):(e=r,X(Z)),e}function vt(){var e,n;if(D,e=[],I.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(O)),n!==r)for(;n!==r;)e.push(n),I.test(t.charAt(D))?(n=t.charAt(D),D++):(n=r,X(O));else e=r;return e!==r&&(e=e.join("")),e}function dt(){var e;return D,P.test(t.charAt(D))?(e=t.charAt(D),D++):(e=r,X(U)),e!==r&&(e=""),e}var yt,At,mt,bt={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var kt in bt)bt[kt.toUpperCase()]=bt[kt];function Mt(t,e){e||(e=[{}]);for(var n=e.length;n--;){var r={code:t,command:bt[t]};for(var l in t==t.toLowerCase()&&(r.relative=!0),e[n])r[l]=e[n][l];e[n]=r}return e}if((n=o())!==r&&D===t.length)return n;throw n!==r&&D<t.length&&X({type:"end"}),yt=Q,At=H<t.length?t.charAt(H):null,mt=H<t.length?W(H,H+1):W(H,H),new h(h.buildMessage(yt,At),yt,At,mt)};p.parseSVG=p,p.makeAbsolute=function(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach((function(t){for(var l in"moveto"===t.command&&(e=t),t.x0=n.x,t.y0=n.y,r)l in t&&(t[l]+=t.relative?t[r[l]]:0);"x"in t||(t.x=n.x),"y"in t||(t.y=n.y),t.relative=!1,t.code=t.code.toUpperCase(),"closepath"==t.command&&(t.x=e.x,t.y=e.y),n=t})),t};var x=p;const g=["circle",n,r,l,o,"rect",s];function v(t,e){t.relativePosition=f(t),t.globalPosition=f(t,new c(e));const n=t.getBoundingClientRect();t.clientRect={left:+n.left,right:+n.right,top:+n.top,bottom:+n.bottom}}function d(t,e,n){if(t){if("g"===t.nodeName)f(t,n);else if(t.nodeName===i)v(t,n),e.axisTextMarks.push(t),t.style["pointer-events"]="none",t.style["user-select"]="none";else if(g.includes(t.nodeName)){v(t,n);let r=t.hasAttribute("x2")?+t.getAttribute("x2"):0;r=r||Math.abs(t.clientRect.bottom-t.clientRect.top)<1;let l=t.hasAttribute("y2")?+t.getAttribute("y2"):0;l=l||Math.abs(t.clientRect.left-t.clientRect.right)<1,r&&e.xAxis.ticks.push(t),l&&e.yAxis.ticks.push(t)}for(const r of t.childNodes)d(r,e,new c(n))}}function y(t,a,u){if(t&&(!t.className||"background"!==t.className.baseVal&&"foreground"!==t.className.baseVal)){var h=!1;if("svg"===t.nodeName)v(t,u),a.svg=t;else if("g"===t.nodeName){f(t,u);let n=t.className.baseVal;if(n.includes(e)||n.includes("grid")||n.includes("label")){h=!0;for(const e of t.childNodes)d(e,a,new c(u))}}else if(t.nodeName===i)v(t,u),a.textMarks.push(t),t.style["pointer-events"]="none",t.style["user-select"]="none";else if(g.includes(t.nodeName)){v(t,u);const e=t.nodeName;e===s?function(t){let e=x.parseSVG(t.getAttribute("d"));if(!e.length)return;t.contour=e;let o=e[e.length-1];3===e.length&&"A"===e[1].code&&"A"===o.code?t.type=n:"Z"!==o.code?t.type=r:t.type=l}(t):e===o&&(t.type=o),t.className&&"domain"===t.className.baseVal?a.hasDomain=!0:(t.setAttribute("__mark__","true"),a.svgMarks.push(t))}if(!h)for(const e of t.childNodes)y(e,a,new c(u))}}function A(t){var n=function(t){let e=new u;return y(t,e,new c),console.log(e),e}(t);a(n.xAxis,"left"),a(n.yAxis,"top"),function(t){for(let n=0;n<t.axisTextMarks.length;++n){let r=(t.axisTextMarks[n].clientRect.left+t.axisTextMarks[n].clientRect.right)/2,l=(t.axisTextMarks[n].clientRect.top+t.axisTextMarks[n].clientRect.bottom)/2,o=0,s=0;for(let e=0;e<t.xAxis.ticks.length;++e)Math.abs(r-t.xAxis.ticks[e].offset)<Math.abs(r-t.xAxis.ticks[o].offset)&&(o=e);for(let e=0;e<t.yAxis.ticks.length;++e)Math.abs(l-t.yAxis.ticks[e].offset)<Math.abs(l-t.yAxis.ticks[s].offset)&&(s=e);Math.abs(r-t.xAxis.ticks[o].offset)<Math.abs(l-t.yAxis.ticks[s].offset)?t.xAxis.ticks[o].label=t.axisTextMarks[n]:t.yAxis.ticks[s].label=t.axisTextMarks[n],t.axisTextMarks[n].setAttribute("class",e)}}(n),function(t){let e,n,r=1e4,l=0;for(const o of t.textMarks)o.clientRect.left<r&&(r=o.clientRect.left,n=o),o.clientRect.bottom>l&&(l=o.clientRect.bottom,e=o);n&&Math.abs(r-t.svg.clientRect.left)<50&&(n.__title__=!0,t.titles.y=n),e&&Math.abs(l-t.svg.clientRect.bottom)<50&&(e.__title__=!0,t.titles.x=e);for(const e of t.textMarks){if(e.__title__)continue;let n,r=(e.clientRect.left+e.clientRect.right)/2,l=(e.clientRect.top+e.clientRect.bottom)/2,o=1e4;for(const e of t.svgMarks){let t=(e.clientRect.left+e.clientRect.right)/2,s=(e.clientRect.bottom+e.clientRect.bottom)/2,i=Math.abs(t-r)+Math.abs(s-l);i<o&&(o=i,n=e)}n.removeAttribute("__mark__"),e.setAttribute("__legend__",!0),n.setAttribute("__legend__","true"),t.legend.push({label:e,glyph:n})}}(n)}t.hydrate=function(t){"string"==typeof t&&(t=document.querySelector(t)),t&&A(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=automatic-interaction.min.js.map
